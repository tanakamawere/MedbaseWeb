<div class="text-center">
    <form id="pageform" method="get" asp-action="Physiology" class="form-inline d-inline-block">
     <button name="options.currentPage" value="@(Model.CurrentPage -1)" class="btn btn-outline-primary @(!Model.HasPreviousPage ? "disabled" : "")" type="submit">
        Previous
     </button>
     @for (int i = 1; i <= 3 && i <= Model.TotalPages; i++) 
     {
         <button name="options.currentPage" value="@i" type="submit"
         class="btn btn-outline-primary @(Model.CurrentPage == i ? "active" : "")">
         @i
         </button>
     }
     @if (Model.CurrentPage > 3 && Model.TotalPages - Model.CurrentPage >= 3) 
     {
        @:...
        <button class="btn btn-outline-primary active">@Model.CurrentPage</button>
     }
     @if (Model.TotalPages > 3) 
     {
         @:...
             @for (int i = Math.Max(4, Model.TotalPages - 2);i <= Model.TotalPages; i++) 
             {
                     <button name="options.currentPage" value="@i" type="submit"
                     class="btn btn-outline-primary
                         @(Model.CurrentPage == i ? "active" : "")">
                         @i
                     </button>
             }
     }
         <button name="options.currentPage" value="@(Model.CurrentPage +1)" type="submit"
         class="btn btn-outline-primary @(!Model.HasNextPage? "disabled" : "")">
            Next
         </button>


     <div class="text-center">
         <select name="options.pageSize" class="form-control ml-1 mr-1">
                 <option selected disabled>Questions/page</option>
                 @foreach (int val in new int[] { 5, 10}) 
                 {
                    <option value="@val" selected="@(Model.PageSize == val)">@val</option>
                 }
             </select>
             <select name="options.topic" class="form-control ml-1 mr-1">
                 <option selected disabled>Choose Topic</option>
                @foreach (Topic topic in new Topic[]
                  {
                        new Topic() { Id = 7, Name="Cell"},
                        new Topic() { Id = 8, Name="Nerve & Muscle"},
                        new Topic() { Id = 9, Name="Blood"},
                        new Topic() { Id = 10, Name="Endocrinology"},
                        new Topic() { Id = 11, Name="GIT"},
                        new Topic() { Id = 12, Name="Reproduction"},
                        new Topic() { Id = 13, Name="Cardiovascular System"},
                        new Topic() { Id = 14, Name="Renal"},
                        new Topic() { Id = 15, Name="Respiratory"},
                        new Topic() { Id = 16, Name="Neurophysiology"},
                  }) 
                {
                    <option value="@topic.Id" selected="@(Model.TopicCode == topic.Id)">@topic.Name</option>
                }
             </select>
             

            <select name="options.answerVisibility" class="form-control ml-1 mr-1 mb-2">
                 <option selected disabled>Toggle Answers</option>
                 @foreach (int val in new int[] { 0, 1}) 
                 {
                    <option value="@val" selected="@(Model.Visibility == val)">
                        @{
                            string condition = "";
                            if (val == 0)
                            {
                                condition = "No answers";
                            }
                            else
                            {
                                condition = "Showing answers";
                            }
                        }
                        @condition
                    </option>
                 }
             </select>

             <h6 class="text-muted">@(Model.NumberOfQuestions) MCQs on Selected Topic</h6>
             <input type="hidden" name="options.currentPage" value="1" />
             <button type="submit" class="btn btn-secondary">Load</button>
     </div>
</form>

</div>